import{l as f}from"./Color-a42a8267.js";import"./string-cdf077e6.js";import{t as ae,X as $}from"./cast-7928d7aa.js";import{r as p,e as Q,t as E,i as H}from"./typedArrayUtil-a8b5b3e9.js";import{r as z,e as he,F as V,j as _e,z as fe,u as me,A as ge,o as we}from"./vec3-a020a6f6.js";import{n as u,r as ce}from"./vec3f64-2f9cef06.js";import{w as Oe}from"./Extent-69509002.js";import{l as de}from"./reactiveUtils-f41a4e00.js";import{i as T}from"./screenUtils-410d12c0.js";import{v as ve,o as xe,l as U,r as ye,s as W}from"./vec2-2cef68de.js";import{D as S,a as G}from"./vec4-790471c0.js";import{r as q,j as Ce}from"./EffectView-d3bf37ed.js";import{n as J}from"./LineVisualElement-69b2e868.js";import{aW as ue,be as k,bB as Ee,bk as c,bC as M,bD as Re,bE as N,bF as Pe,aU as Z,bG as Ae,ar as Se,bA as be}from"./index-455b69b8.js";import{c as m}from"./VisualVariablePassParameters-5807c7dc.js";import{O as pe}from"./VertexAttribute-9c5c630d.js";import{d as $e,S as K}from"./PointVisualElement-685382db.js";import{S as Me}from"./RightAngleQuadVisualElement-d5a5e64b.js";import{y as ze,p as Ge}from"./colorUtils-82440b70.js";import{e as Fe}from"./vec4f64-e407da96.js";import{a as Te,b as We,c as De,d as Ie,A as He}from"./Octree-1a841545.js";import{v as Ve,b as B,l as R}from"./lineSegment-e6f72ff2.js";import{d as Le,h as j}from"./sphere-4f5e644f.js";import{n as ee}from"./basicInterfaces-19ed850e.js";import{v as te}from"./manipulatorUtils-302eea16.js";class Ue extends J{constructor(e){super(e),this._ray=Le(),this._externalResources=null,this._handles=new ae,this._isWorldDown=!1,this._start=u(),this._end=ce(1,0,0),this._width=1,this._color=q(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=q(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=g.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=m.OccludeAndTransparent,this._fadedExtensions=re,this.applyProps(e)}createExternalResources(){const e=new ue(this.materialParameters);this._handles.add(de(()=>this.view.state.camera,()=>{this._updateGeometry()}));const t=new $e({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){p(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){p(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[u(),u()],i=this.extensionType===g.FADED;i&&t.push(u(),u());const s=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,r=k(t,null,s);e.addGeometry(r,Q(this._externalResources).material),this._updateVertices(e)}updateVisibility(e){super.updateVisibility(e),p(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,z(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),he(this._end,e,this._end),j(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,V(this._start,e)||(z(this._start,e),j(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,V(this._end,e)||(z(this._end,e),j(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){S(e,this._color)||(G(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){S(e,this._innerColor)||(G(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=p(e)!==p(this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(E(e)||E(this._stippleOffColor)||!S(e,this._stippleOffColor))&&(this._stippleOffColor=p(e)?Ce(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this._updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&p(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,p(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,p(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,p(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=H(e,re),this.recreateGeometry()}_updateMaterial(){E(this._externalResources)||this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateGeometry(){p(this.object)&&this._updateVertices(this.object)}_updateVertices(e){const t=this._extensionType===g.FADED?this._updateLineSegmentFinite(ie):this._updateLineSegmentInfinite(this._extensionType,ie);this._updateVertexAttributes(e,t),p(this._externalResources)&&(this._externalResources.laserline.intersectsLine=t)}_updateLineSegmentFinite(e){return B(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const i=this.view.state.camera;switch(We(this._ray,v),e){case g.LINE:v.c0=-Number.MAX_VALUE;break;case g.RAY:case g.GROUND_RAY:{const a=this._ray.origin,l=H(this.view.elevationProvider.getElevation(a[0],a[1],a[2],this.view.renderCoordsHelper.spatialReference,"ground"),0),h=this.view.renderCoordsHelper.getAltitude(a);this._isWorldDown&&h<l&&_e(v.ray.direction,v.ray.direction),this._extensionType===g.GROUND_RAY&&l!=null&&(v.c1=Math.abs(h-l));break}}if(!De(i.frustum,v))return B(this._start,this._end,t);const s=Ie(v,C),r=He(v,Ne);return B(s,r,t)}_updateVertexAttributes(e,t){const i=e.geometries[0].getMutableAttribute(pe.POSITION).data;if(this.extensionType===g.FADED){const s=R(t,-this.fadedExtensions.start,C);i[0]=s[0],i[1]=s[1],i[2]=s[2];const r=R(t,0,C);i[3]=r[0],i[4]=r[1],i[5]=r[2];const a=R(t,1,C);i[6]=a[0],i[7]=a[1],i[8]=a[2];const l=R(t,1+this.fadedExtensions.end,C);i[9]=l[0],i[10]=l[1],i[11]=l[2]}else{const s=R(t,0,C);i[0]=s[0],i[1]=s[1],i[2]=s[2];const r=R(t,1,C);i[3]=r[0],i[4]=r[1],i[5]=r[2]}e.geometryVertexAttrsUpdated(e.geometryRecords[0])}}const v=Te(),C=u(),Ne=u(),ie=Ve();var g;(function(n){n[n.LINE=0]="LINE",n[n.RAY=1]="RAY",n[n.GROUND_RAY=2]="GROUND_RAY",n[n.FADED=3]="FADED"})(g||(g={}));const se=1/3,re={start:se,end:se};class Be extends J{constructor(e){super(e),this._handles=new ae,this._location=u(),this._direction=ce(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=q(1,0,1,1),this._renderOccluded=m.OccludeAndTransparent,this.applyProps(e)}get location(){return this._location}set location(e){V(this._location,e)||(z(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){V(this._direction,e)||(z(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){fe(this._direction,he(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){S(e,this._color)||(G(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}createExternalResources(){const e=new ue(this.materialParameters);this._handles.add(de(()=>this.view.state.camera,()=>{this._updateGeometry()})),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const t=k([u(),u()]),i=k([u(),u()]),s=Q(this._externalResources).material;e.addGeometry(t,s),e.addGeometry(i,s),this._updateVertices(e)}forEachExternalMaterial(e){p(this._externalResources)&&e(this._externalResources.material)}_updateMaterial(){E(this._externalResources)||this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}_updateGeometry(){const e=this.object;E(e)||this._updateVertices(e)}_updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,D),me(O,this.location,this.direction),t.projectToScreen(O,P),ve(P,xe(P,P,D)),this._updateVertexAttributes(t,e,0,D,P,1),this._updateVertexAttributes(t,e,1,D,P,-1)}_updateVertexAttributes(e,t,i,s,r,a){const l=t.geometryRecords[i],h=l.geometry.getMutableAttribute(pe.POSITION).data,d=U(ne,ye(ne,r[1]*a,r[0]*-a),this.offset+this.width/2),_=W(I,W(I,W(I,s,U(I,r,this.length/2)),d),d),y=W(oe,_,U(oe,r,-this.length));e.unprojectFromScreen(_,O),h[0]=O[0],h[1]=O[1],h[2]=O[2],e.unprojectFromScreen(y,O),h[3]=O[0],h[4]=O[1],h[5]=O[2],t.geometryVertexAttrsUpdated(l)}}const O=u(),D=T(),P=T(),ne=T(),I=T(),oe=T();let bt=class extends Ee{visualizeIntersectionPoint(e,t){const{coordinateHelper:i,view:s}=t;return $(new K({view:s,primitive:"circle",geometry:i.vectorToPoint(e.intersectionPoint),elevationInfo:H(e.elevationInfo,t.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:f.toUnitRGBA(c.orange),pixelSnappingEnabled:!1}))}visualizePoint(e,t){const{view:i,coordinateHelper:s}=t,r=this._alignPoint(e.point,e.domain,t);return $(new K({view:i,primitive:"circle",geometry:s.vectorToPoint(r),elevationInfo:this._hintElevationInfo(e,t),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:f.toUnitRGBA(c.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,t){const{view:i,coordinateHelper:s}=t,r=this._alignPoint(e.lineStart,e.domain,t),a=this._alignPoint(e.lineEnd,e.domain,t);return $(this._createLineSegmentHintFromMap(e.type,r,a,s,this._hintElevationInfo(e,t),i,e.fadeLeft,e.fadeRight))}visualizeParallelSign(e,t){const{view:i,coordinateHelper:s}=t,r=this._hintElevationInfo(e,t),a=this._alignPoint(e.lineStart,e.domain,t),l=this._alignPoint(e.lineEnd,e.domain,t),h=M(a,s,r,i),d=M(l,s,r,i),_=ge(d,h,d,.5),y=new Be({view:i,attached:!1,offset:c.parallelLineHintOffset,length:c.parallelLineHintLength,width:c.parallelLineHintWidth,color:f.toUnitRGBA(c.orange),location:_,renderOccluded:m.Opaque});return y.setDirectionFromPoints(h,_),y.attached=!0,$(y)}visualizeRightAngleQuad(e,t){const{view:i,coordinateHelper:s}=t,r=this._hintElevationInfo(e,t),a=this._alignPoint(e.previousVertex,e.domain,t),l=this._alignPoint(e.centerVertex,e.domain,t),h=this._alignPoint(e.nextVertex,e.domain,t);return $(new Me({view:i,attached:!0,color:f.toUnitRGBA(c.orange),renderOccluded:m.Transparent,outlineRenderOccluded:m.Opaque,outlineColor:f.toUnitRGBA(c.orange),outlineSize:c.rightAngleHintOutlineSize,size:c.rightAngleHintSize,geometry:{previous:M(a,s,r,i),center:M(l,s,r,i),next:M(h,s,r,i)}}))}_createLineSegmentHintFromMap(e,t,i,s,r,a,l=!0,h=!0){const d=u(),_=u();return Re(t,i,s,r,a,d,_),this._createLineSegmentHint(e,a,d,_,l,h)}_createLineSegmentHint(e,t,i,s,r=!0,a=!0){const l=new Ue({view:t,extensionType:g.FADED,start:i,end:s,color:f.toUnitRGBA(c.orange),renderOccluded:m.Opaque});switch(e){case N.TARGET:l.width=c.lineHintWidthTarget,l.fadedExtensions={start:0,end:c.lineHintFadedExtensions};break;case N.REFERENCE_EXTENSION:l.width=c.lineHintWidthReference,l.fadedExtensions={start:0,end:0};break;case N.REFERENCE:l.width=c.lineHintWidthReference,l.fadedExtensions={start:r?c.lineHintFadedExtensions:0,end:a?c.lineHintFadedExtensions:0}}return l.attached=!0,l}_alignPoint(e,t,i){const s=this._getSelfSnappingZ(t,i);if(E(s))return e;const r=i.coordinateHelper,a=r.vectorToPoint(e,je);return a.z=s,r.pointToVector(a)}_hintElevationInfo(e,t){return p(this._getSelfSnappingZ(e.domain,t))?Q(t.selfSnappingZ).elevationInfo:H(e.elevationInfo,t.elevationInfo)}_getSelfSnappingZ(e,{selfSnappingZ:t}){return e===Pe.SELF&&p(t)?t.value:null}};const je=new Oe,o={main:new f([255,127,0]),selected:new f([255,255,255]),staged:new f([12,207,255]),outline:new f([0,0,0,.5]),selectedOutline:new f([255,255,255])},b=.3;function F(n,e){const t=n.clone();return t.a*=e,t}function Ye(n,e){const t=n.clone(),i=ze(t);i.s*=e;const s=Ge(i);return t.r=s.r,t.g=s.g,t.b=s.b,t}function w(n,e){if(e)for(const t in e)n[t]=e[t]}class qe{constructor(e){this.color=o.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=m.Opaque,w(this,e)}}let Y=class{constructor(e){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=o.main,this.outlineColor=o.outline,this.renderOccluded=m.Opaque,this.hoverOutlineColor=o.selectedOutline,w(this,e)}apply(e,t){const i=this[e];t.setParameters({color:x(i),transparent:e!=="color"||i.a<1,renderOccluded:this.renderOccluded})}};class ke{constructor(e){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=F(o.main,.5),this.hoverColor=o.main,this.renderOccluded=m.Transparent,this.minSquaredEdgeLength=900,w(this,e)}apply(e,t){const i=this[e];t.setParameters({color:x(i),transparent:i.a<1,renderOccluded:this.renderOccluded})}}class Ze{constructor(e){this.vertex=new Y({color:o.main,outlineColor:o.outline}),this.edge=new Y({color:Ye(F(o.main,2/3),.5),outlineColor:F(o.outline,.5),size:8,collisionPadding:8}),this.selected=new Y({color:o.selected,outlineColor:o.outline}),this.edgeOffset=new ke,w(this,e)}}class X{constructor(e){this.color=o.selected,this.width=1.5,this.stipplePattern=Z(5),this.stippleOffColor=o.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=o.selected,this.renderOccluded=m.OccludeAndTransparent,w(this,e)}apply(e){e.color=x(this.color),e.width=this.width,e.stipplePattern=this.stipplePattern,e.stippleOffColor=x(this.stippleOffColor),e.falloff=this.falloff,e.innerWidth=this.innerWidth,e.innerColor=x(this.innerColor),e.renderOccluded=this.renderOccluded}}class Xe{constructor(e){this.color=o.selected,this.size=4,this.outlineSize=1,this.outlineColor=o.outline,this.shape="square",w(this,e)}apply(e){e.color=x(this.color),e.size=this.size,e.outlineSize=this.outlineSize,e.outlineColor=x(this.outlineColor),e.primitive=this.shape}}let L=class{constructor(e){this.innerColor=o.selected,this.innerWidth=1,this.glowColor=o.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=b,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=o.main,w(this,e)}apply(e,t=1){const i={glowColor:f.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:f.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*t,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in e?e.style=i:e.laserlineStyle=i}};class Qe{constructor(e){this.outline=new X({color:o.outline,renderOccluded:m.OccludeAndTransparentStencil,stippleOffColor:o.selected,stipplePattern:Z(5),width:1.5,innerWidth:0}),this.staged=new X({color:o.selected,renderOccluded:m.OccludeAndTransparentStencil,innerColor:o.staged,stippleOffColor:o.outline,stipplePattern:Z(5),width:1.5}),this.shadowStyle=new L({globalAlpha:b,glowColor:o.main,glowFalloff:8,glowWidth:8,innerColor:o.selected,innerWidth:1}),w(this,e)}}class Je{constructor(e){this.outline=new Xe({color:o.selected,outlineColor:o.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new L({globalAlpha:b,glowColor:o.main,glowFalloff:1.5,glowWidth:6,innerColor:o.selected,innerWidth:1,radius:2}),w(this,e)}}class Ke extends X{constructor(e){super(),this.extensionType=g.GROUND_RAY,w(this,e)}}class et{constructor(e){this.lineGraphics=new Qe,this.pointGraphics=new Je,this.heightPlane=new L({globalAlpha:b,glowColor:o.main,glowFalloff:8,glowWidth:8,innerColor:o.selected,innerWidth:1}),this.heightBox=new L({globalAlpha:b,glowColor:o.main,glowFalloff:8,glowWidth:8,innerColor:o.selected,innerWidth:0,heightFillColor:o.main}),this.zVerticalLine=new Ke({color:F(o.main,5*b/3),falloff:2,innerColor:F(o.selected,0),renderOccluded:m.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:g.GROUND_RAY}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,w(this,e)}}class tt{constructor(e){this.visualElements=new et,this.reshapeManipulators=new Ze,this.zManipulator=new qe,w(this,e)}colorToVec4(e){return x(e)}}function x(n){return Fe(f.toUnitRGBA(n))}const A=new tt;function it(n,e,t,i,s){const r=new Float64Array(3*n.length),a=new Float64Array(r.length);n.forEach((d,_)=>{r[3*_+0]=d[0],r[3*_+1]=d[1],r[3*_+2]=d.length>2?d[2]:0});const l=Ae(r,e,0,a,0,r,0,r.length/3,t,i,s),h=l!=null;return{numVertices:n.length,position:r,mapPosition:a,projectionSuccess:h,sampledElevation:l}}class Gt extends J{constructor(e){super(e),this.view=null,this._renderOccluded=m.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=A.colorToVec4(A.reshapeManipulators.vertex.color),this._size=A.reshapeManipulators.vertex.size,this._outlineColor=A.colorToVec4(A.reshapeManipulators.vertex.outlineColor),this._outlineSize=A.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){S(e,this._color)||(G(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){S(e,this._outlineColor)||(G(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSizeScale:this.size,renderOccluded:this._renderOccluded}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const e=this.vertices;if(E(e)||e.length===0)return[];const t=.5,i=.5,s=it(e,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,Se.fromElevationInfo(this.elevationInfo)),r=[],a=s.numVertices,l=s.position;for(let h=0;h<a;++h){const d=we(st,l[3*h+0],l[3*h+1],l[3*h+2]),_=le(t,d),y=le(i,d);r.push({vertexGeometry:_,vertexOutlineGeometry:y})}return r}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:i,vertexOutlineGeometry:s}of t)e.addGeometry(i,this._vertexMaterial),e.addGeometry(s,this._vertexOutlineMaterial)}createExternalResources(){this._vertexMaterial=new te({...this._vertexMaterialParameters,writeDepth:!0,cullFace:ee.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new te({...this._vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:ee.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const st=u();function le(n,e){return be(n,16,16,{offset:e})}export{Ue as G,Gt as _,bt as a,o as r,A as y};
